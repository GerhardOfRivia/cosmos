"use strict";(self.webpackChunknewdocs_openc_3_com=self.webpackChunknewdocs_openc_3_com||[]).push([[5137],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=c(a),p=i,m=u["".concat(s,".").concat(p)]||u[p]||h[p]||r;return a?n.createElement(m,l(l({ref:t},d),{},{components:a})):n.createElement(m,l({ref:t},d))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,l=new Array(r);l[0]=p;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:i,l[1]=o;for(var c=2;c<r;c++)l[c]=a[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},7835:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var n=a(7462),i=(a(7294),a(3905));const r={title:"Calendar"},l=void 0,o={unversionedId:"tools/calendar",id:"tools/calendar",title:"Calendar",description:"Introduction",source:"@site/docs/tools/calendar.md",sourceDirName:"tools",slug:"/tools/calendar",permalink:"/docs/tools/calendar",draft:!1,editUrl:"https://github.com/OpenC3/cosmos/tree/main/docs.openc3.com/docs/tools/calendar.md",tags:[],version:"current",frontMatter:{title:"Calendar"},sidebar:"defaultSidebar",previous:{title:"Bucket Explorer",permalink:"/docs/tools/bucket-explorer"},next:{title:"Command Sender",permalink:"/docs/tools/cmd-sender"}},s={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Types of Events",id:"types-of-events",level:2},{value:"Metadata",id:"metadata",level:3},{value:"Narrative",id:"narrative",level:3},{value:"Activity",id:"activity",level:3},{value:"Adding Timelines",id:"adding-timelines",level:3},{value:"Timeline Implementation Details",id:"timeline-implementation-details",level:3}],d={toc:c},u="wrapper";function h(e){let{components:t,...r}=e;return(0,i.kt)(u,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"Calendar visualizes metadata, narrative, and timeline information in one easy to understand place. Timelines allow for the simple execution of commands and scripts based on future dates and times."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Calendar",src:a(500).Z,width:"1102",height:"763"})),(0,i.kt)("p",null,"Calendar events can also be viewed in a list format which supports pagination for listing both past and future events."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"List View",src:a(3990).Z,width:"1082",height:"642"})),(0,i.kt)("h2",{id:"types-of-events"},"Types of Events"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Metadata")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Narrative")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Activity"))),(0,i.kt)("h3",{id:"metadata"},"Metadata"),(0,i.kt)("p",null,"Metadata allows you to record arbitrary data into the COSMOS system. For example, you could ask the user for inputs which fall outside the available target telemetry including user defined IDs, environmental factors, procedural steps, etc. This allows for searching metadata based on these fields and correlating the related telemetry data."),(0,i.kt)("h3",{id:"narrative"},"Narrative"),(0,i.kt)("p",null,"A simple way to record events on the calendar, for example a test window or anything else..."),(0,i.kt)("h3",{id:"activity"},"Activity"),(0,i.kt)("p",null,"Scheduled on a timeline these can run single commands or run a script."),(0,i.kt)("h3",{id:"adding-timelines"},"Adding Timelines"),(0,i.kt)("p",null,"Adding a Timeline to COSMOS."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Each timeline consists of several threads so be careful of your compute resources you have as you can overwhelm COSMOS with lots of these."),(0,i.kt)("li",{parentName:"ul"},"Note you can not have overlapping activities on a single calendar.")),(0,i.kt)("h3",{id:"timeline-implementation-details"},"Timeline Implementation Details"),(0,i.kt)("p",null,"When a user creates a timeline, a new timeline microservice starts. The timeline microservice is the main thread of execution for the timeline. This starts a scheduler manager thread. The scheduler manger thread contains a thread pool that hosts more then one thread to run the activity. The scheduler manger will evaluate the schedule and based on the start time of the activity it will add the activity to the queue."),(0,i.kt)("p",null,'The main thread will block on the web socket to listen to request changes to the timeline, these could be adding, removing, or updating activities. The main thread will make the changes to the in memory schedule if these changes are within the hour of the current time. When the web socket gets an update it has an action lookup table. These actions are "created", "updated", "deleted", ect... Some actions require updating the schedule from the database to ensure the schedule and the database are always in sync.'),(0,i.kt)("p",null,"The schedule thread checks every second to make sure if a task can be run. If the start time is equal or less then the last 15 seconds it will then check the previously queued jobs list in the schedule. If the activity has not been queued and is not fulfilled the activity will be queued, this adds an event to the activity but is not saved to the database."),(0,i.kt)("p",null,"The workers block on the queue until an activity is placed on the queue. Once a job is pulled from the queue they check the type and run the activity. The thread will mark the activity fulfillment true and update the database record with the complete. If the worker gets an error while trying to run the task the activity will NOT be fulfilled and record the error in the database."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Timeline Lifecycle",src:a(7077).Z,width:"1065",height:"514"})))}h.isMDXComponent=!0},500:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/calendar-19fcfef793fc00ca55cbc54451292d2a.png"},3990:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/list_view-de6ef74e4a6bd037a265fd7b7d812592.png"},7077:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/timeline_lifecycle-82c460c4a94614a256e2c6e5dbfa297e.png"}}]);